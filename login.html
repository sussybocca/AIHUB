<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Hub - Login</title>
<script type="module">
  // Import Firebase modules
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getAuth, signInWithPopup, GoogleAuthProvider, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

  // Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyDuwfB4TUpLg4-zX6YJwD8JvR3I0p4sB3c",
    authDomain: "gg444.firebaseapp.com",
    projectId: "gg444",
    storageBucket: "gg444.appspot.com",
    messagingSenderId: "494789110558",
    appId: "1:494789110558:web:xxxxxxxxxxxxxxxx"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // Google Login
  window.googleLogin = () => {
    const provider = new GoogleAuthProvider();
    signInWithPopup(auth, provider)
      .then(result => {
        console.log("Google login successful:", result.user);
        window.location.href = "loading.html"; // redirect to loading.html
      })
      .catch(error => {
        console.error("Google login error:", error);
        alert(error.message);
      });
  };

  // Email/Password Login
  window.emailLogin = () => {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    signInWithEmailAndPassword(auth, email, password)
      .then(userCredential => {
        console.log("Email login successful:", userCredential.user);
        window.location.href = "loading.html"; // redirect to loading.html
      })
      .catch(error => {
        console.error("Email login error:", error);
        alert(error.message);
      });
  };
</script>
<style>
  body { font-family: 'Inter', sans-serif; display:flex; flex-direction:column; justify-content:center; align-items:center; height:100vh; background:#f4f6f8; }
  h1 { margin-bottom:30px; }
  button { padding:15px 30px; margin:10px; border:none; border-radius:8px; cursor:pointer; font-size:16px; transition:0.3s; }
  #googleBtn { background:#4285F4; color:#fff; }
  #googleBtn:hover { background:#357ae8; }
  #emailBtn { background:#34A853; color:#fff; }
  #emailBtn:hover { background:#2c8c46; }
  input { padding:10px; margin:5px 0; width:250px; border-radius:5px; border:1px solid #ccc; }
</style>
</head>
<body>
<h1>Login to AI Hub</h1>

<!-- Google Login -->
<button id="googleBtn" onclick="googleLogin()">Sign in with Google</button>

<!-- Email/Password Login -->
<div style="margin-top:20px; text-align:center;">
  <input type="email" id="email" placeholder="Email"><br>
  <input type="password" id="password" placeholder="Password"><br>
  <button id="emailBtn" onclick="emailLogin()">Sign in with Email</button>
</div>
</body>
</html>
